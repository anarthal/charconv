// Copyright 2023 Matt Borland
// Distributed under the Boost Software License, Version 1.0.
// https://www.boost.org/LICENSE_1_0.txt

#ifdef BOOST_USE_MODULES
import std;
import boost.core;
#include <boost/core/lightweight_test_macros.hpp>
#include <boost/charconv/detail/global_module_fragment.hpp>
#else
#include <boost/core/lightweight_test.hpp>
#include <system_error>
#include <iostream>
#include <limits>
#include <cstring>
#endif

#include <cmath>
#include <cerrno>
#include "../src/from_chars_float_impl.hpp"



template <typename T>
void test_strtod_routines(T val, const char* str)
{
    T strtod_val = -2;
    const auto r = boost::charconv::detail::from_chars_strtod(str, str + std::strlen(str), strtod_val);
    if (r.ec == std::errc::not_enough_memory || r.ec == std::errc::result_out_of_range)
    {
        if (!BOOST_TEST_EQ(strtod_val, T(-2)))
        {
            std::cerr << "Value was modified from input value, but should not have been";
        }
    }
    else
    {
        if (!BOOST_TEST_EQ(strtod_val, val))
        {
            std::cerr << std::setprecision(std::numeric_limits<T>::digits10 + 1)
                      << "Expected: " << val
                      << "\n     Got: " << strtod_val << std::endl;
        }
    }
}

int main()
{
    // Value in range with 20 million digits. Malloc should max out at 16'711'568 bytes
    test_strtod_routines<double>(1.982645139827653964857196,
                                "1.98264513982765396485719650498261498564729856318926451982754398672495874691824659645"
                                "1092348576918246513984659103485721634589126458619584619051982671298642158641958264819"
                                "0519826492851648192519856419258612541685159172360917510925761093561879512865908275198"
                                "2651982563012895610769517352609182751093560198257610928576510481965234109182954019825"
                                "7610935761093571092387540619275610395718290513769285109237856091827569104857109358109"
                                "3857910671958109375610935865109834571986201958109246581398246396857109651089639186275"
                                "1238961023875609182763509182703618927450916837259013650296857109258607129845760918576"
                                "5109384659103865791083659127490287596102935761092375819627109382651098346598163450983"
                                "5109384750198273561907351098627531098465109384750983610984675109384750984610987456109"
                                "3847561098475260193847609187326501982735601985761904782659013487569102738957109184756"
                                "9018743691872634509287561098274510938746509827536019827536091827650918327650918265091"
                                "8237560918275961083726510983726510982650198275609182375609187236510982356109827509862"
                                "3140985671294567190264790263190756290824609182356907123056918276091837561097812365908"
                                "1726509817365109823561097235690719823560987126509812376598712635098712365098475610982"
                                "3756098135760981273965019827609182375609182756098123765098123765081273650982173650982"
                                "1735091823756109821736509182763905109286510982653109826501982653109835601928375609182"
                                "5673098217536098217560918273560982165309821753609817365098271365098217365091827651098"
                                "2735610982735610982735610982713509182756310982715630982735610982175631098275610982735"
                                "6091827561098273650981253609821753609821765310982756309821763509182756309821756309182"
                                "7563098217563109827653091827563098217653091827650918273560982716350918273561098217536"
                                "0918276350918276530982176531098275609182756309827156310982735609182753609827153609182"
                                "7563098271563908127563091827563109827156309827153609827365109827153098271536098271536"
                                "0918275631098271536098271560918275630982716530918275630982715360918275360982715360918"
                                "2753609827153609182756309827156309182756310982715630982715360982715360982715360982715"
                                "3609827153609827156309827153609821765309182756091827356098271653091827356098271563091"
                                "8275630982716350918273561098271536098271536098271536098271563098271536098271536098271"
                                "536098271563098271536098271536098271536"
                                "198264513982765396485719650498261498564729856318926451982754398672495874691824659645"
                                "1092348576918246513984659103485721634589126458619584619051982671298642158641958264819"
                                "0519826492851648192519856419258612541685159172360917510925761093561879512865908275198"
                                "2651982563012895610769517352609182751093560198257610928576510481965234109182954019825"
                                "7610935761093571092387540619275610395718290513769285109237856091827569104857109358109"
                                "3857910671958109375610935865109834571986201958109246581398246396857109651089639186275"
                                "1238961023875609182763509182703618927450916837259013650296857109258607129845760918576"
                                "5109384659103865791083659127490287596102935761092375819627109382651098346598163450983"
                                "5109384750198273561907351098627531098465109384750983610984675109384750984610987456109"
                                "3847561098475260193847609187326501982735601985761904782659013487569102738957109184756"
                                "9018743691872634509287561098274510938746509827536019827536091827650918327650918265091"
                                "8237560918275961083726510983726510982650198275609182375609187236510982356109827509862"
                                "3140985671294567190264790263190756290824609182356907123056918276091837561097812365908"
                                "1726509817365109823561097235690719823560987126509812376598712635098712365098475610982"
                                "3756098135760981273965019827609182375609182756098123765098123765081273650982173650982"
                                "1735091823756109821736509182763905109286510982653109826501982653109835601928375609182"
                                "5673098217536098217560918273560982165309821753609817365098271365098217365091827651098"
                                "2735610982735610982735610982713509182756310982715630982735610982175631098275610982735"
                                "6091827561098273650981253609821753609821765310982756309821763509182756309821756309182"
                                "7563098217563109827653091827563098217653091827650918273560982716350918273561098217536"
                                "0918276350918276530982176531098275609182756309827156310982735609182753609827153609182"
                                "7563098271563908127563091827563109827156309827153609827365109827153098271536098271536"
                                "0918275631098271536098271560918275630982716530918275630982715360918275360982715360918"
                                "2753609827153609182756309827156309182756310982715630982715360982715360982715360982715"
                                "3609827153609827156309827153609821765309182756091827356098271653091827356098271563091"
                                "8275630982716350918273561098271536098271536098271536098271563098271536098271536098271"
                                "536098271563098271536098271536098271536"
                                "198264513982765396485719650498261498564729856318926451982754398672495874691824659645"
                                "1092348576918246513984659103485721634589126458619584619051982671298642158641958264819"
                                "0519826492851648192519856419258612541685159172360917510925761093561879512865908275198"
                                "2651982563012895610769517352609182751093560198257610928576510481965234109182954019825"
                                "7610935761093571092387540619275610395718290513769285109237856091827569104857109358109"
                                "3857910671958109375610935865109834571986201958109246581398246396857109651089639186275"
                                "1238961023875609182763509182703618927450916837259013650296857109258607129845760918576"
                                "5109384659103865791083659127490287596102935761092375819627109382651098346598163450983"
                                "5109384750198273561907351098627531098465109384750983610984675109384750984610987456109"
                                "3847561098475260193847609187326501982735601985761904782659013487569102738957109184756"
                                "9018743691872634509287561098274510938746509827536019827536091827650918327650918265091"
                                "8237560918275961083726510983726510982650198275609182375609187236510982356109827509862"
                                "3140985671294567190264790263190756290824609182356907123056918276091837561097812365908"
                                "1726509817365109823561097235690719823560987126509812376598712635098712365098475610982"
                                "3756098135760981273965019827609182375609182756098123765098123765081273650982173650982"
                                "1735091823756109821736509182763905109286510982653109826501982653109835601928375609182"
                                "5673098217536098217560918273560982165309821753609817365098271365098217365091827651098"
                                "2735610982735610982735610982713509182756310982715630982735610982175631098275610982735"
                                "6091827561098273650981253609821753609821765310982756309821763509182756309821756309182"
                                "7563098217563109827653091827563098217653091827650918273560982716350918273561098217536"
                                "0918276350918276530982176531098275609182756309827156310982735609182753609827153609182"
                                "7563098271563908127563091827563109827156309827153609827365109827153098271536098271536"
                                "0918275631098271536098271560918275630982716530918275630982715360918275360982715360918"
                                "2753609827153609182756309827156309182756310982715630982715360982715360982715360982715"
                                "3609827153609827156309827153609821765309182756091827356098271653091827356098271563091"
                                "8275630982716350918273561098271536098271536098271536098271563098271536098271536098271"
                                "536098271563098271536098271536098271536"
                                "198264513982765396485719650498261498564729856318926451982754398672495874691824659645"
                                "1092348576918246513984659103485721634589126458619584619051982671298642158641958264819"
                                "0519826492851648192519856419258612541685159172360917510925761093561879512865908275198"
                                "2651982563012895610769517352609182751093560198257610928576510481965234109182954019825"
                                "7610935761093571092387540619275610395718290513769285109237856091827569104857109358109"
                                "3857910671958109375610935865109834571986201958109246581398246396857109651089639186275"
                                "1238961023875609182763509182703618927450916837259013650296857109258607129845760918576"
                                "5109384659103865791083659127490287596102935761092375819627109382651098346598163450983"
                                "5109384750198273561907351098627531098465109384750983610984675109384750984610987456109"
                                "3847561098475260193847609187326501982735601985761904782659013487569102738957109184756"
                                "9018743691872634509287561098274510938746509827536019827536091827650918327650918265091"
                                "8237560918275961083726510983726510982650198275609182375609187236510982356109827509862"
                                "3140985671294567190264790263190756290824609182356907123056918276091837561097812365908"
                                "1726509817365109823561097235690719823560987126509812376598712635098712365098475610982"
                                "3756098135760981273965019827609182375609182756098123765098123765081273650982173650982"
                                "1735091823756109821736509182763905109286510982653109826501982653109835601928375609182"
                                "5673098217536098217560918273560982165309821753609817365098271365098217365091827651098"
                                "2735610982735610982735610982713509182756310982715630982735610982175631098275610982735"
                                "6091827561098273650981253609821753609821765310982756309821763509182756309821756309182"
                                "7563098217563109827653091827563098217653091827650918273560982716350918273561098217536"
                                "0918276350918276530982176531098275609182756309827156310982735609182753609827153609182"
                                "7563098271563908127563091827563109827156309827153609827365109827153098271536098271536"
                                "0918275631098271536098271560918275630982716530918275630982715360918275360982715360918"
                                "2753609827153609182756309827156309182756310982715630982715360982715360982715360982715"
                                "3609827153609827156309827153609821765309182756091827356098271653091827356098271563091"
                                "8275630982716350918273561098271536098271536098271536098271563098271536098271536098271"
                                "536098271563098271536098271536098271536"
                                "198264513982765396485719650498261498564729856318926451982754398672495874691824659645"
                                "1092348576918246513984659103485721634589126458619584619051982671298642158641958264819"
                                "0519826492851648192519856419258612541685159172360917510925761093561879512865908275198"
                                "2651982563012895610769517352609182751093560198257610928576510481965234109182954019825"
                                "7610935761093571092387540619275610395718290513769285109237856091827569104857109358109"
                                "3857910671958109375610935865109834571986201958109246581398246396857109651089639186275"
                                "1238961023875609182763509182703618927450916837259013650296857109258607129845760918576"
                                "5109384659103865791083659127490287596102935761092375819627109382651098346598163450983"
                                "5109384750198273561907351098627531098465109384750983610984675109384750984610987456109"
                                "3847561098475260193847609187326501982735601985761904782659013487569102738957109184756"
                                "9018743691872634509287561098274510938746509827536019827536091827650918327650918265091"
                                "8237560918275961083726510983726510982650198275609182375609187236510982356109827509862"
                                "3140985671294567190264790263190756290824609182356907123056918276091837561097812365908"
                                "1726509817365109823561097235690719823560987126509812376598712635098712365098475610982"
                                "3756098135760981273965019827609182375609182756098123765098123765081273650982173650982"
                                "1735091823756109821736509182763905109286510982653109826501982653109835601928375609182"
                                "5673098217536098217560918273560982165309821753609817365098271365098217365091827651098"
                                "2735610982735610982735610982713509182756310982715630982735610982175631098275610982735"
                                "6091827561098273650981253609821753609821765310982756309821763509182756309821756309182"
                                "7563098217563109827653091827563098217653091827650918273560982716350918273561098217536"
                                "0918276350918276530982176531098275609182756309827156310982735609182753609827153609182"
                                "7563098271563908127563091827563109827156309827153609827365109827153098271536098271536"
                                "0918275631098271536098271560918275630982716530918275630982715360918275360982715360918"
                                "2753609827153609182756309827156309182756310982715630982715360982715360982715360982715"
                                "3609827153609827156309827153609821765309182756091827356098271653091827356098271563091"
                                "8275630982716350918273561098271536098271536098271536098271563098271536098271536098271"
                                "536098271563098271536098271536098271536"
                                "198264513982765396485719650498261498564729856318926451982754398672495874691824659645"
                                "1092348576918246513984659103485721634589126458619584619051982671298642158641958264819"
                                "0519826492851648192519856419258612541685159172360917510925761093561879512865908275198"
                                "2651982563012895610769517352609182751093560198257610928576510481965234109182954019825"
                                "7610935761093571092387540619275610395718290513769285109237856091827569104857109358109"
                                "3857910671958109375610935865109834571986201958109246581398246396857109651089639186275"
                                "1238961023875609182763509182703618927450916837259013650296857109258607129845760918576"
                                "5109384659103865791083659127490287596102935761092375819627109382651098346598163450983"
                                "5109384750198273561907351098627531098465109384750983610984675109384750984610987456109"
                                "3847561098475260193847609187326501982735601985761904782659013487569102738957109184756"
                                "9018743691872634509287561098274510938746509827536019827536091827650918327650918265091"
                                "8237560918275961083726510983726510982650198275609182375609187236510982356109827509862"
                                "3140985671294567190264790263190756290824609182356907123056918276091837561097812365908"
                                "1726509817365109823561097235690719823560987126509812376598712635098712365098475610982"
                                "3756098135760981273965019827609182375609182756098123765098123765081273650982173650982"
                                "1735091823756109821736509182763905109286510982653109826501982653109835601928375609182"
                                "5673098217536098217560918273560982165309821753609817365098271365098217365091827651098"
                                "2735610982735610982735610982713509182756310982715630982735610982175631098275610982735"
                                "6091827561098273650981253609821753609821765310982756309821763509182756309821756309182"
                                "7563098217563109827653091827563098217653091827650918273560982716350918273561098217536"
                                "0918276350918276530982176531098275609182756309827156310982735609182753609827153609182"
                                "7563098271563908127563091827563109827156309827153609827365109827153098271536098271536"
                                "0918275631098271536098271560918275630982716530918275630982715360918275360982715360918"
                                "2753609827153609182756309827156309182756310982715630982715360982715360982715360982715"
                                "3609827153609827156309827153609821765309182756091827356098271653091827356098271563091"
                                "8275630982716350918273561098271536098271536098271536098271563098271536098271536098271"
                                "536098271563098271536098271536098271536"
                                "198264513982765396485719650498261498564729856318926451982754398672495874691824659645"
                                "1092348576918246513984659103485721634589126458619584619051982671298642158641958264819"
                                "0519826492851648192519856419258612541685159172360917510925761093561879512865908275198"
                                "2651982563012895610769517352609182751093560198257610928576510481965234109182954019825"
                                "7610935761093571092387540619275610395718290513769285109237856091827569104857109358109"
                                "3857910671958109375610935865109834571986201958109246581398246396857109651089639186275"
                                "1238961023875609182763509182703618927450916837259013650296857109258607129845760918576"
                                "5109384659103865791083659127490287596102935761092375819627109382651098346598163450983"
                                "5109384750198273561907351098627531098465109384750983610984675109384750984610987456109"
                                "3847561098475260193847609187326501982735601985761904782659013487569102738957109184756"
                                "9018743691872634509287561098274510938746509827536019827536091827650918327650918265091"
                                "8237560918275961083726510983726510982650198275609182375609187236510982356109827509862"
                                "3140985671294567190264790263190756290824609182356907123056918276091837561097812365908"
                                "1726509817365109823561097235690719823560987126509812376598712635098712365098475610982"
                                "3756098135760981273965019827609182375609182756098123765098123765081273650982173650982"
                                "1735091823756109821736509182763905109286510982653109826501982653109835601928375609182"
                                "5673098217536098217560918273560982165309821753609817365098271365098217365091827651098"
                                "2735610982735610982735610982713509182756310982715630982735610982175631098275610982735"
                                "6091827561098273650981253609821753609821765310982756309821763509182756309821756309182"
                                "7563098217563109827653091827563098217653091827650918273560982716350918273561098217536"
                                "0918276350918276530982176531098275609182756309827156310982735609182753609827153609182"
                                "7563098271563908127563091827563109827156309827153609827365109827153098271536098271536"
                                "0918275631098271536098271560918275630982716530918275630982715360918275360982715360918"
                                "2753609827153609182756309827156309182756310982715630982715360982715360982715360982715"
                                "3609827153609827156309827153609821765309182756091827356098271653091827356098271563091"
                                "8275630982716350918273561098271536098271536098271536098271563098271536098271536098271"
                                "536098271563098271536098271536098271536"
                                "198264513982765396485719650498261498564729856318926451982754398672495874691824659645"
                                "1092348576918246513984659103485721634589126458619584619051982671298642158641958264819"
                                "0519826492851648192519856419258612541685159172360917510925761093561879512865908275198"
                                "2651982563012895610769517352609182751093560198257610928576510481965234109182954019825"
                                "7610935761093571092387540619275610395718290513769285109237856091827569104857109358109"
                                "3857910671958109375610935865109834571986201958109246581398246396857109651089639186275"
                                "1238961023875609182763509182703618927450916837259013650296857109258607129845760918576"
                                "5109384659103865791083659127490287596102935761092375819627109382651098346598163450983"
                                "5109384750198273561907351098627531098465109384750983610984675109384750984610987456109"
                                "3847561098475260193847609187326501982735601985761904782659013487569102738957109184756"
                                "9018743691872634509287561098274510938746509827536019827536091827650918327650918265091"
                                "8237560918275961083726510983726510982650198275609182375609187236510982356109827509862"
                                "3140985671294567190264790263190756290824609182356907123056918276091837561097812365908"
                                "1726509817365109823561097235690719823560987126509812376598712635098712365098475610982"
                                "3756098135760981273965019827609182375609182756098123765098123765081273650982173650982"
                                "1735091823756109821736509182763905109286510982653109826501982653109835601928375609182"
                                "5673098217536098217560918273560982165309821753609817365098271365098217365091827651098"
                                "2735610982735610982735610982713509182756310982715630982735610982175631098275610982735"
                                "6091827561098273650981253609821753609821765310982756309821763509182756309821756309182"
                                "7563098217563109827653091827563098217653091827650918273560982716350918273561098217536"
                                "0918276350918276530982176531098275609182756309827156310982735609182753609827153609182"
                                "7563098271563908127563091827563109827156309827153609827365109827153098271536098271536"
                                "0918275631098271536098271560918275630982716530918275630982715360918275360982715360918"
                                "2753609827153609182756309827156309182756310982715630982715360982715360982715360982715"
                                "3609827153609827156309827153609821765309182756091827356098271653091827356098271563091"
                                "8275630982716350918273561098271536098271536098271536098271563098271536098271536098271"
                                "536098271563098271536098271536098271536"
                                "198264513982765396485719650498261498564729856318926451982754398672495874691824659645"
                                "1092348576918246513984659103485721634589126458619584619051982671298642158641958264819"
                                "0519826492851648192519856419258612541685159172360917510925761093561879512865908275198"
                                "2651982563012895610769517352609182751093560198257610928576510481965234109182954019825"
                                "7610935761093571092387540619275610395718290513769285109237856091827569104857109358109"
                                "3857910671958109375610935865109834571986201958109246581398246396857109651089639186275"
                                "1238961023875609182763509182703618927450916837259013650296857109258607129845760918576"
                                "5109384659103865791083659127490287596102935761092375819627109382651098346598163450983"
                                "5109384750198273561907351098627531098465109384750983610984675109384750984610987456109"
                                "3847561098475260193847609187326501982735601985761904782659013487569102738957109184756"
                                "9018743691872634509287561098274510938746509827536019827536091827650918327650918265091"
                                "8237560918275961083726510983726510982650198275609182375609187236510982356109827509862"
                                "3140985671294567190264790263190756290824609182356907123056918276091837561097812365908"
                                "1726509817365109823561097235690719823560987126509812376598712635098712365098475610982"
                                "3756098135760981273965019827609182375609182756098123765098123765081273650982173650982"
                                "1735091823756109821736509182763905109286510982653109826501982653109835601928375609182"
                                "5673098217536098217560918273560982165309821753609817365098271365098217365091827651098"
                                "2735610982735610982735610982713509182756310982715630982735610982175631098275610982735"
                                "6091827561098273650981253609821753609821765310982756309821763509182756309821756309182"
                                "7563098217563109827653091827563098217653091827650918273560982716350918273561098217536"
                                "0918276350918276530982176531098275609182756309827156310982735609182753609827153609182"
                                "7563098271563908127563091827563109827156309827153609827365109827153098271536098271536"
                                "0918275631098271536098271560918275630982716530918275630982715360918275360982715360918"
                                "2753609827153609182756309827156309182756310982715630982715360982715360982715360982715"
                                "3609827153609827156309827153609821765309182756091827356098271653091827356098271563091"
                                "8275630982716350918273561098271536098271536098271536098271563098271536098271536098271"
                                "536098271563098271536098271536098271536"
                                "198264513982765396485719650498261498564729856318926451982754398672495874691824659645"
                                "1092348576918246513984659103485721634589126458619584619051982671298642158641958264819"
                                "0519826492851648192519856419258612541685159172360917510925761093561879512865908275198"
                                "2651982563012895610769517352609182751093560198257610928576510481965234109182954019825"
                                "7610935761093571092387540619275610395718290513769285109237856091827569104857109358109"
                                "3857910671958109375610935865109834571986201958109246581398246396857109651089639186275"
                                "1238961023875609182763509182703618927450916837259013650296857109258607129845760918576"
                                "5109384659103865791083659127490287596102935761092375819627109382651098346598163450983"
                                "5109384750198273561907351098627531098465109384750983610984675109384750984610987456109"
                                "3847561098475260193847609187326501982735601985761904782659013487569102738957109184756"
                                "9018743691872634509287561098274510938746509827536019827536091827650918327650918265091"
                                "8237560918275961083726510983726510982650198275609182375609187236510982356109827509862"
                                "3140985671294567190264790263190756290824609182356907123056918276091837561097812365908"
                                "1726509817365109823561097235690719823560987126509812376598712635098712365098475610982"
                                "3756098135760981273965019827609182375609182756098123765098123765081273650982173650982"
                                "1735091823756109821736509182763905109286510982653109826501982653109835601928375609182"
                                "5673098217536098217560918273560982165309821753609817365098271365098217365091827651098"
                                "2735610982735610982735610982713509182756310982715630982735610982175631098275610982735"
                                "6091827561098273650981253609821753609821765310982756309821763509182756309821756309182"
                                "7563098217563109827653091827563098217653091827650918273560982716350918273561098217536"
                                "0918276350918276530982176531098275609182756309827156310982735609182753609827153609182"
                                "7563098271563908127563091827563109827156309827153609827365109827153098271536098271536"
                                "0918275631098271536098271560918275630982716530918275630982715360918275360982715360918"
                                "2753609827153609182756309827156309182756310982715630982715360982715360982715360982715"
                                "3609827153609827156309827153609821765309182756091827356098271653091827356098271563091"
                                "8275630982716350918273561098271536098271536098271536098271563098271536098271536098271"
                                "536098271563098271536098271536098271536"
                                "198264513982765396485719650498261498564729856318926451982754398672495874691824659645"
                                "1092348576918246513984659103485721634589126458619584619051982671298642158641958264819"
                                "0519826492851648192519856419258612541685159172360917510925761093561879512865908275198"
                                "2651982563012895610769517352609182751093560198257610928576510481965234109182954019825"
                                "7610935761093571092387540619275610395718290513769285109237856091827569104857109358109"
                                "3857910671958109375610935865109834571986201958109246581398246396857109651089639186275"
                                "1238961023875609182763509182703618927450916837259013650296857109258607129845760918576"
                                "5109384659103865791083659127490287596102935761092375819627109382651098346598163450983"
                                "5109384750198273561907351098627531098465109384750983610984675109384750984610987456109"
                                "3847561098475260193847609187326501982735601985761904782659013487569102738957109184756"
                                "9018743691872634509287561098274510938746509827536019827536091827650918327650918265091"
                                "8237560918275961083726510983726510982650198275609182375609187236510982356109827509862"
                                "3140985671294567190264790263190756290824609182356907123056918276091837561097812365908"
                                "1726509817365109823561097235690719823560987126509812376598712635098712365098475610982"
                                "3756098135760981273965019827609182375609182756098123765098123765081273650982173650982"
                                "1735091823756109821736509182763905109286510982653109826501982653109835601928375609182"
                                "5673098217536098217560918273560982165309821753609817365098271365098217365091827651098"
                                "2735610982735610982735610982713509182756310982715630982735610982175631098275610982735"
                                "6091827561098273650981253609821753609821765310982756309821763509182756309821756309182"
                                "7563098217563109827653091827563098217653091827650918273560982716350918273561098217536"
                                "0918276350918276530982176531098275609182756309827156310982735609182753609827153609182"
                                "7563098271563908127563091827563109827156309827153609827365109827153098271536098271536"
                                "0918275631098271536098271560918275630982716530918275630982715360918275360982715360918"
                                "2753609827153609182756309827156309182756310982715630982715360982715360982715360982715"
                                "3609827153609827156309827153609821765309182756091827356098271653091827356098271563091"
                                "8275630982716350918273561098271536098271536098271536098271563098271536098271536098271"
                                "536098271563098271536098271536098271536"
                                "198264513982765396485719650498261498564729856318926451982754398672495874691824659645"
                                "1092348576918246513984659103485721634589126458619584619051982671298642158641958264819"
                                "0519826492851648192519856419258612541685159172360917510925761093561879512865908275198"
                                "2651982563012895610769517352609182751093560198257610928576510481965234109182954019825"
                                "7610935761093571092387540619275610395718290513769285109237856091827569104857109358109"
                                "3857910671958109375610935865109834571986201958109246581398246396857109651089639186275"
                                "1238961023875609182763509182703618927450916837259013650296857109258607129845760918576"
                                "5109384659103865791083659127490287596102935761092375819627109382651098346598163450983"
                                "5109384750198273561907351098627531098465109384750983610984675109384750984610987456109"
                                "3847561098475260193847609187326501982735601985761904782659013487569102738957109184756"
                                "9018743691872634509287561098274510938746509827536019827536091827650918327650918265091"
                                "8237560918275961083726510983726510982650198275609182375609187236510982356109827509862"
                                "3140985671294567190264790263190756290824609182356907123056918276091837561097812365908"
                                "1726509817365109823561097235690719823560987126509812376598712635098712365098475610982"
                                "3756098135760981273965019827609182375609182756098123765098123765081273650982173650982"
                                "1735091823756109821736509182763905109286510982653109826501982653109835601928375609182"
                                "5673098217536098217560918273560982165309821753609817365098271365098217365091827651098"
                                "2735610982735610982735610982713509182756310982715630982735610982175631098275610982735"
                                "6091827561098273650981253609821753609821765310982756309821763509182756309821756309182"
                                "7563098217563109827653091827563098217653091827650918273560982716350918273561098217536"
                                "0918276350918276530982176531098275609182756309827156310982735609182753609827153609182"
                                "7563098271563908127563091827563109827156309827153609827365109827153098271536098271536"
                                "0918275631098271536098271560918275630982716530918275630982715360918275360982715360918"
                                "2753609827153609182756309827156309182756310982715630982715360982715360982715360982715"
                                "3609827153609827156309827153609821765309182756091827356098271653091827356098271563091"
                                "8275630982716350918273561098271536098271536098271536098271563098271536098271536098271"
                                "536098271563098271536098271536098271536"
                                "198264513982765396485719650498261498564729856318926451982754398672495874691824659645"
                                "1092348576918246513984659103485721634589126458619584619051982671298642158641958264819"
                                "0519826492851648192519856419258612541685159172360917510925761093561879512865908275198"
                                "2651982563012895610769517352609182751093560198257610928576510481965234109182954019825"
                                "7610935761093571092387540619275610395718290513769285109237856091827569104857109358109"
                                "3857910671958109375610935865109834571986201958109246581398246396857109651089639186275"
                                "1238961023875609182763509182703618927450916837259013650296857109258607129845760918576"
                                "5109384659103865791083659127490287596102935761092375819627109382651098346598163450983"
                                "5109384750198273561907351098627531098465109384750983610984675109384750984610987456109"
                                "3847561098475260193847609187326501982735601985761904782659013487569102738957109184756"
                                "9018743691872634509287561098274510938746509827536019827536091827650918327650918265091"
                                "8237560918275961083726510983726510982650198275609182375609187236510982356109827509862"
                                "3140985671294567190264790263190756290824609182356907123056918276091837561097812365908"
                                "1726509817365109823561097235690719823560987126509812376598712635098712365098475610982"
                                "3756098135760981273965019827609182375609182756098123765098123765081273650982173650982"
                                "1735091823756109821736509182763905109286510982653109826501982653109835601928375609182"
                                "5673098217536098217560918273560982165309821753609817365098271365098217365091827651098"
                                "2735610982735610982735610982713509182756310982715630982735610982175631098275610982735"
                                "6091827561098273650981253609821753609821765310982756309821763509182756309821756309182"
                                "7563098217563109827653091827563098217653091827650918273560982716350918273561098217536"
                                "0918276350918276530982176531098275609182756309827156310982735609182753609827153609182"
                                "7563098271563908127563091827563109827156309827153609827365109827153098271536098271536"
                                "0918275631098271536098271560918275630982716530918275630982715360918275360982715360918"
                                "2753609827153609182756309827156309182756310982715630982715360982715360982715360982715"
                                "3609827153609827156309827153609821765309182756091827356098271653091827356098271563091"
                                "8275630982716350918273561098271536098271536098271536098271563098271536098271536098271"
                                "536098271563098271536098271536098271536"
                                "198264513982765396485719650498261498564729856318926451982754398672495874691824659645"
                                "1092348576918246513984659103485721634589126458619584619051982671298642158641958264819"
                                "0519826492851648192519856419258612541685159172360917510925761093561879512865908275198"
                                "2651982563012895610769517352609182751093560198257610928576510481965234109182954019825"
                                "7610935761093571092387540619275610395718290513769285109237856091827569104857109358109"
                                "3857910671958109375610935865109834571986201958109246581398246396857109651089639186275"
                                "1238961023875609182763509182703618927450916837259013650296857109258607129845760918576"
                                "5109384659103865791083659127490287596102935761092375819627109382651098346598163450983"
                                "5109384750198273561907351098627531098465109384750983610984675109384750984610987456109"
                                "3847561098475260193847609187326501982735601985761904782659013487569102738957109184756"
                                "9018743691872634509287561098274510938746509827536019827536091827650918327650918265091"
                                "8237560918275961083726510983726510982650198275609182375609187236510982356109827509862"
                                "3140985671294567190264790263190756290824609182356907123056918276091837561097812365908"
                                "1726509817365109823561097235690719823560987126509812376598712635098712365098475610982"
                                "3756098135760981273965019827609182375609182756098123765098123765081273650982173650982"
                                "1735091823756109821736509182763905109286510982653109826501982653109835601928375609182"
                                "5673098217536098217560918273560982165309821753609817365098271365098217365091827651098"
                                "2735610982735610982735610982713509182756310982715630982735610982175631098275610982735"
                                "6091827561098273650981253609821753609821765310982756309821763509182756309821756309182"
                                "7563098217563109827653091827563098217653091827650918273560982716350918273561098217536"
                                "0918276350918276530982176531098275609182756309827156310982735609182753609827153609182"
                                "7563098271563908127563091827563109827156309827153609827365109827153098271536098271536"
                                "0918275631098271536098271560918275630982716530918275630982715360918275360982715360918"
                                "2753609827153609182756309827156309182756310982715630982715360982715360982715360982715"
                                "3609827153609827156309827153609821765309182756091827356098271653091827356098271563091"
                                "8275630982716350918273561098271536098271536098271536098271563098271536098271536098271"
                                "536098271563098271536098271536098271536"
                                "198264513982765396485719650498261498564729856318926451982754398672495874691824659645"
                                "1092348576918246513984659103485721634589126458619584619051982671298642158641958264819"
                                "0519826492851648192519856419258612541685159172360917510925761093561879512865908275198"
                                "2651982563012895610769517352609182751093560198257610928576510481965234109182954019825"
                                "7610935761093571092387540619275610395718290513769285109237856091827569104857109358109"
                                "3857910671958109375610935865109834571986201958109246581398246396857109651089639186275"
                                "1238961023875609182763509182703618927450916837259013650296857109258607129845760918576"
                                "5109384659103865791083659127490287596102935761092375819627109382651098346598163450983"
                                "5109384750198273561907351098627531098465109384750983610984675109384750984610987456109"
                                "3847561098475260193847609187326501982735601985761904782659013487569102738957109184756"
                                "9018743691872634509287561098274510938746509827536019827536091827650918327650918265091"
                                "8237560918275961083726510983726510982650198275609182375609187236510982356109827509862"
                                "3140985671294567190264790263190756290824609182356907123056918276091837561097812365908"
                                "1726509817365109823561097235690719823560987126509812376598712635098712365098475610982"
                                "3756098135760981273965019827609182375609182756098123765098123765081273650982173650982"
                                "1735091823756109821736509182763905109286510982653109826501982653109835601928375609182"
                                "5673098217536098217560918273560982165309821753609817365098271365098217365091827651098"
                                "2735610982735610982735610982713509182756310982715630982735610982175631098275610982735"
                                "6091827561098273650981253609821753609821765310982756309821763509182756309821756309182"
                                "7563098217563109827653091827563098217653091827650918273560982716350918273561098217536"
                                "0918276350918276530982176531098275609182756309827156310982735609182753609827153609182"
                                "7563098271563908127563091827563109827156309827153609827365109827153098271536098271536"
                                "0918275631098271536098271560918275630982716530918275630982715360918275360982715360918"
                                "2753609827153609182756309827156309182756310982715630982715360982715360982715360982715"
                                "3609827153609827156309827153609821765309182756091827356098271653091827356098271563091"
                                "8275630982716350918273561098271536098271536098271536098271563098271536098271536098271"
                                "536098271563098271536098271536098271536"
                                "198264513982765396485719650498261498564729856318926451982754398672495874691824659645"
                                "1092348576918246513984659103485721634589126458619584619051982671298642158641958264819"
                                "0519826492851648192519856419258612541685159172360917510925761093561879512865908275198"
                                "2651982563012895610769517352609182751093560198257610928576510481965234109182954019825"
                                "7610935761093571092387540619275610395718290513769285109237856091827569104857109358109"
                                "3857910671958109375610935865109834571986201958109246581398246396857109651089639186275"
                                "1238961023875609182763509182703618927450916837259013650296857109258607129845760918576"
                                "5109384659103865791083659127490287596102935761092375819627109382651098346598163450983"
                                "5109384750198273561907351098627531098465109384750983610984675109384750984610987456109"
                                "3847561098475260193847609187326501982735601985761904782659013487569102738957109184756"
                                "9018743691872634509287561098274510938746509827536019827536091827650918327650918265091"
                                "8237560918275961083726510983726510982650198275609182375609187236510982356109827509862"
                                "3140985671294567190264790263190756290824609182356907123056918276091837561097812365908"
                                "1726509817365109823561097235690719823560987126509812376598712635098712365098475610982"
                                "3756098135760981273965019827609182375609182756098123765098123765081273650982173650982"
                                "1735091823756109821736509182763905109286510982653109826501982653109835601928375609182"
                                "5673098217536098217560918273560982165309821753609817365098271365098217365091827651098"
                                "2735610982735610982735610982713509182756310982715630982735610982175631098275610982735"
                                "6091827561098273650981253609821753609821765310982756309821763509182756309821756309182"
                                "7563098217563109827653091827563098217653091827650918273560982716350918273561098217536"
                                "0918276350918276530982176531098275609182756309827156310982735609182753609827153609182"
                                "7563098271563908127563091827563109827156309827153609827365109827153098271536098271536"
                                "0918275631098271536098271560918275630982716530918275630982715360918275360982715360918"
                                "2753609827153609182756309827156309182756310982715630982715360982715360982715360982715"
                                "3609827153609827156309827153609821765309182756091827356098271653091827356098271563091"
                                "8275630982716350918273561098271536098271536098271536098271563098271536098271536098271"
                                "536098271563098271536098271536098271536"
                                "198264513982765396485719650498261498564729856318926451982754398672495874691824659645"
                                "1092348576918246513984659103485721634589126458619584619051982671298642158641958264819"
                                "0519826492851648192519856419258612541685159172360917510925761093561879512865908275198"
                                "2651982563012895610769517352609182751093560198257610928576510481965234109182954019825"
                                "7610935761093571092387540619275610395718290513769285109237856091827569104857109358109"
                                "3857910671958109375610935865109834571986201958109246581398246396857109651089639186275"
                                "1238961023875609182763509182703618927450916837259013650296857109258607129845760918576"
                                "5109384659103865791083659127490287596102935761092375819627109382651098346598163450983"
                                "5109384750198273561907351098627531098465109384750983610984675109384750984610987456109"
                                "3847561098475260193847609187326501982735601985761904782659013487569102738957109184756"
                                "9018743691872634509287561098274510938746509827536019827536091827650918327650918265091"
                                "8237560918275961083726510983726510982650198275609182375609187236510982356109827509862"
                                "3140985671294567190264790263190756290824609182356907123056918276091837561097812365908"
                                "1726509817365109823561097235690719823560987126509812376598712635098712365098475610982"
                                "3756098135760981273965019827609182375609182756098123765098123765081273650982173650982"
                                "1735091823756109821736509182763905109286510982653109826501982653109835601928375609182"
                                "5673098217536098217560918273560982165309821753609817365098271365098217365091827651098"
                                "2735610982735610982735610982713509182756310982715630982735610982175631098275610982735"
                                "6091827561098273650981253609821753609821765310982756309821763509182756309821756309182"
                                "7563098217563109827653091827563098217653091827650918273560982716350918273561098217536"
                                "0918276350918276530982176531098275609182756309827156310982735609182753609827153609182"
                                "7563098271563908127563091827563109827156309827153609827365109827153098271536098271536"
                                "0918275631098271536098271560918275630982716530918275630982715360918275360982715360918"
                                "2753609827153609182756309827156309182756310982715630982715360982715360982715360982715"
                                "3609827153609827156309827153609821765309182756091827356098271653091827356098271563091"
                                "8275630982716350918273561098271536098271536098271536098271563098271536098271536098271"
                                "536098271563098271536098271536098271536"
                                "198264513982765396485719650498261498564729856318926451982754398672495874691824659645"
                                "1092348576918246513984659103485721634589126458619584619051982671298642158641958264819"
                                "0519826492851648192519856419258612541685159172360917510925761093561879512865908275198"
                                "2651982563012895610769517352609182751093560198257610928576510481965234109182954019825"
                                "7610935761093571092387540619275610395718290513769285109237856091827569104857109358109"
                                "3857910671958109375610935865109834571986201958109246581398246396857109651089639186275"
                                "1238961023875609182763509182703618927450916837259013650296857109258607129845760918576"
                                "5109384659103865791083659127490287596102935761092375819627109382651098346598163450983"
                                "5109384750198273561907351098627531098465109384750983610984675109384750984610987456109"
                                "3847561098475260193847609187326501982735601985761904782659013487569102738957109184756"
                                "9018743691872634509287561098274510938746509827536019827536091827650918327650918265091"
                                "8237560918275961083726510983726510982650198275609182375609187236510982356109827509862"
                                "3140985671294567190264790263190756290824609182356907123056918276091837561097812365908"
                                "1726509817365109823561097235690719823560987126509812376598712635098712365098475610982"
                                "3756098135760981273965019827609182375609182756098123765098123765081273650982173650982"
                                "1735091823756109821736509182763905109286510982653109826501982653109835601928375609182"
                                "5673098217536098217560918273560982165309821753609817365098271365098217365091827651098"
                                "2735610982735610982735610982713509182756310982715630982735610982175631098275610982735"
                                "6091827561098273650981253609821753609821765310982756309821763509182756309821756309182"
                                "7563098217563109827653091827563098217653091827650918273560982716350918273561098217536"
                                "0918276350918276530982176531098275609182756309827156310982735609182753609827153609182"
                                "7563098271563908127563091827563109827156309827153609827365109827153098271536098271536"
                                "0918275631098271536098271560918275630982716530918275630982715360918275360982715360918"
                                "2753609827153609182756309827156309182756310982715630982715360982715360982715360982715"
                                "3609827153609827156309827153609821765309182756091827356098271653091827356098271563091"
                                "8275630982716350918273561098271536098271536098271536098271563098271536098271536098271"
                                "536098271563098271536098271536098271536"
                                "198264513982765396485719650498261498564729856318926451982754398672495874691824659645"
                                "1092348576918246513984659103485721634589126458619584619051982671298642158641958264819"
                                "0519826492851648192519856419258612541685159172360917510925761093561879512865908275198"
                                "2651982563012895610769517352609182751093560198257610928576510481965234109182954019825"
                                "7610935761093571092387540619275610395718290513769285109237856091827569104857109358109"
                                "3857910671958109375610935865109834571986201958109246581398246396857109651089639186275"
                                "1238961023875609182763509182703618927450916837259013650296857109258607129845760918576"
                                "5109384659103865791083659127490287596102935761092375819627109382651098346598163450983"
                                "5109384750198273561907351098627531098465109384750983610984675109384750984610987456109"
                                "3847561098475260193847609187326501982735601985761904782659013487569102738957109184756"
                                "9018743691872634509287561098274510938746509827536019827536091827650918327650918265091"
                                "8237560918275961083726510983726510982650198275609182375609187236510982356109827509862"
                                "3140985671294567190264790263190756290824609182356907123056918276091837561097812365908"
                                "1726509817365109823561097235690719823560987126509812376598712635098712365098475610982"
                                "3756098135760981273965019827609182375609182756098123765098123765081273650982173650982"
                                "1735091823756109821736509182763905109286510982653109826501982653109835601928375609182"
                                "5673098217536098217560918273560982165309821753609817365098271365098217365091827651098"
                                "2735610982735610982735610982713509182756310982715630982735610982175631098275610982735"
                                "6091827561098273650981253609821753609821765310982756309821763509182756309821756309182"
                                "7563098217563109827653091827563098217653091827650918273560982716350918273561098217536"
                                "0918276350918276530982176531098275609182756309827156310982735609182753609827153609182"
                                "7563098271563908127563091827563109827156309827153609827365109827153098271536098271536"
                                "0918275631098271536098271560918275630982716530918275630982715360918275360982715360918"
                                "2753609827153609182756309827156309182756310982715630982715360982715360982715360982715"
                                "3609827153609827156309827153609821765309182756091827356098271653091827356098271563091"
                                "8275630982716350918273561098271536098271536098271536098271563098271536098271536098271"
                                "536098271563098271536098271536098271536"
                                "198264513982765396485719650498261498564729856318926451982754398672495874691824659645"
                                "1092348576918246513984659103485721634589126458619584619051982671298642158641958264819"
                                "0519826492851648192519856419258612541685159172360917510925761093561879512865908275198"
                                "2651982563012895610769517352609182751093560198257610928576510481965234109182954019825"
                                "7610935761093571092387540619275610395718290513769285109237856091827569104857109358109"
                                "3857910671958109375610935865109834571986201958109246581398246396857109651089639186275"
                                "1238961023875609182763509182703618927450916837259013650296857109258607129845760918576"
                                "5109384659103865791083659127490287596102935761092375819627109382651098346598163450983"
                                "5109384750198273561907351098627531098465109384750983610984675109384750984610987456109"
                                "3847561098475260193847609187326501982735601985761904782659013487569102738957109184756"
                                "9018743691872634509287561098274510938746509827536019827536091827650918327650918265091"
                                "8237560918275961083726510983726510982650198275609182375609187236510982356109827509862"
                                "3140985671294567190264790263190756290824609182356907123056918276091837561097812365908"
                                "1726509817365109823561097235690719823560987126509812376598712635098712365098475610982"
                                "3756098135760981273965019827609182375609182756098123765098123765081273650982173650982"
                                "1735091823756109821736509182763905109286510982653109826501982653109835601928375609182"
                                "5673098217536098217560918273560982165309821753609817365098271365098217365091827651098"
                                "2735610982735610982735610982713509182756310982715630982735610982175631098275610982735"
                                "6091827561098273650981253609821753609821765310982756309821763509182756309821756309182"
                                "7563098217563109827653091827563098217653091827650918273560982716350918273561098217536"
                                "0918276350918276530982176531098275609182756309827156310982735609182753609827153609182"
                                "7563098271563908127563091827563109827156309827153609827365109827153098271536098271536"
                                "0918275631098271536098271560918275630982716530918275630982715360918275360982715360918"
                                "2753609827153609182756309827156309182756310982715630982715360982715360982715360982715"
                                "3609827153609827156309827153609821765309182756091827356098271653091827356098271563091"
                                "8275630982716350918273561098271536098271536098271536098271563098271536098271536098271"
                                "536098271563098271536098271536098271536"
                                );

    test_strtod_routines(HUGE_VAL, "1e310");
    test_strtod_routines(-HUGE_VALF, "-1e40");
    test_strtod_routines(0.0, "1e-500");
    test_strtod_routines(-0.0F, "-1e-50");
    test_strtod_routines(1.5738291047382910487, "1.5738291047382910487");
    test_strtod_routines(-1.5738291047382910487F, "-1.5738291047382910487");

    return boost::report_errors();
}
